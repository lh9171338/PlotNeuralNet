
\documentclass[border=8pt, multi, tikz]{standalone} 
\usepackage{import}
\subimport{../layers/}{init}
\usetikzlibrary{positioning}
\usetikzlibrary{3d} %for including external image 

\def\FeatureColor{rgb:green,4;black,5}
\def\ConvColor{rgb:yellow,5;red,2.5;white,5}
\def\FcColor{rgb:blue,5;red,2.5;white,5}
\def\ReluColor{rgb:red,1;black,0.3}
\def\BnColor{rgb:blue,2;green,1;black,0.3}
\def\FcReluColor{rgb:blue,5;red,5;white,4}
\def\ConvReluColor{rgb:yellow,5;red,5;white,5}
\def\ConvResColor{rgb:magenta,4;black,5}
\def\PoolColor{rgb:red,1;black,0.3}
\def\UnpoolColor{rgb:blue,2;green,1;black,0.3}
\def\SigmoidColor{rgb:magenta,5;black,7}   
\def\SoftmaxColor{rgb:magenta,5;black,7}   
\def\SumColor{rgb:blue,5;green,15}
\def\ConcatColor{rgb:blue,5;red,2.5;white,5}

\newcommand{\copymidarrow}{\tikz \draw[-Stealth,line width=0.8mm,draw={rgb:blue,4;red,1;green,1;black,3}] (-0.3,0) -- ++(0.3,0);}

\begin{document}
\begin{tikzpicture}
\tikzstyle{connection}=[ultra thick,every node/.style={sloped,allow upside down},draw=\edgecolor,opacity=0.7]
\tikzstyle{copyconnection}=[ultra thick,every node/.style={sloped,allow upside down},draw={rgb:blue,4;red,1;green,1;black,3},opacity=0.7]

\pic[shift={(13, 4, 0)}] at (0, 0, 0) 
    {Box={
        name=fc,
        caption=Fc,
        zlabel=,
        fill=\FcColor,
        height=2,
        width=2,
        depth=8
        }
    };

\pic[shift={ (1, 0, 0) }] at (fc-east)
    {Box={
        name=relu,
        caption=Relu,
        fill=\ReluColor,
        opacity=1,
        height=2,
        width=2,
        depth=8
        }
    };

\pic[shift={ (1, 0, 0) }] at (relu-east) 
    {Box={
        name=bn,
        caption=Bn,
        zlabel=,
        fill=\BnColor,
        opacity=1,
        height=2,
        width=2,
        depth=8
        }
    };

\pic[shift={(1, 0, 0)}] at (bn-east) 
    {Box={
        name=sigmoid,
        caption=Sigmoid,
        xlabel={{" ","dummy"}},
        zlabel=,
        fill=\SigmoidColor,
        opacity=1,
        height=2,
        width=2,
        depth=8
        }
    };

\pic[shift={(0, 0, 0)}] at (0, 0, 0) 
    {Box={
        name=input,
        caption=Input,
        zlabel=5,
        fill=\FeatureColor,
        height=2,
        width=2,
        depth=16
        }
    };

\pic[shift={(2, 0, 0)}] at (input-east) 
    {Box={
        name=fc_layer1,
        caption= ,
        zlabel=,
        fill=\FcColor,
        height=2,
        width=2,
        depth=96
        }
    };

\pic[shift={ (0, 0, 0) }] at (fc_layer1-east)
    {Box={
        name=relu_layer1,
        caption= ,
        fill=\ReluColor,
        opacity=0.8,
        height=2,
        width=1,
        depth=96
        }
    };

\pic[shift={ (0, 0, 0) }] at (relu_layer1-east) 
    {Box={
        name=bn_layer1,
        caption= ,
        zlabel=512,
        fill=\BnColor,
        opacity=0.8,
        height=2,
        width=1,
        depth=96
        }
    };

\pic[shift={(1.8, 0, 0)}] at (bn_layer1-east) 
    {Box={
        name=fc_layer2,
        caption= ,
        zlabel=,
        fill=\FcColor,
        height=2,
        width=2,
        depth=64
        }
    };

\pic[shift={ (0, 0, 0) }] at (fc_layer2-east)
    {Box={
        name=relu_layer2,
        caption= ,
        fill=\ReluColor,
        opacity=0.8,
        height=2,
        width=1,
        depth=64
        }
    };

\pic[shift={ (0, 0, 0) }] at (relu_layer2-east) 
    {Box={
        name=bn_layer2,
        caption= ,
        zlabel=256,
        fill=\BnColor,
        opacity=0.8,
        height=2,
        width=1,
        depth=64
        }
    };

\pic[shift={(1.8, 0, 0)}] at (bn_layer2-east) 
    {Box={
        name=fc_layer3,
        caption= ,
        zlabel=,
        fill=\FcColor,
        height=2,
        width=2,
        depth=48
        }
    };

\pic[shift={ (0, 0, 0) }] at (fc_layer3-east)
    {Box={
        name=relu_layer3,
        caption= ,
        fill=\ReluColor,
        opacity=0.8,
        height=2,
        width=1,
        depth=48
        }
    };

\pic[shift={ (0, 0, 0) }] at (relu_layer3-east) 
    {Box={
        name=bn_layer3,
        caption= ,
        zlabel=96,
        fill=\BnColor,
        opacity=0.8,
        height=2,
        width=1,
        depth=48
        }
    };

\pic[shift={(1.8, 0, 0)}] at (bn_layer3-east) 
    {Box={
        name=fc_layer4,
        caption= ,
        zlabel=,
        fill=\FcColor,
        height=2,
        width=2,
        depth=32
        }
    };

\pic[shift={ (0, 0, 0) }] at (fc_layer4-east)
    {Box={
        name=relu_layer4,
        caption= ,
        fill=\ReluColor,
        opacity=0.8,
        height=2,
        width=1,
        depth=32
        }
    };

\pic[shift={ (0, 0, 0) }] at (relu_layer4-east) 
    {Box={
        name=bn_layer4,
        caption= ,
        zlabel=16,
        fill=\BnColor,
        opacity=0.8,
        height=2,
        width=1,
        depth=32
        }
    };

\pic[shift={(1.8, 0, 0)}] at (bn_layer4-east) 
    {Box={
        name=fc_layer5,
        caption= ,
        zlabel=,
        fill=\FcColor,
        height=2,
        width=2,
        depth=8
        }
    };

\pic[shift={ (0, 0, 0) }] at (fc_layer5-east)
    {Box={
        name=relu_layer5,
        caption= ,
        fill=\ReluColor,
        opacity=0.8,
        height=2,
        width=1,
        depth=8
        }
    };

\pic[shift={ (0, 0, 0) }] at (relu_layer5-east) 
    {Box={
        name=bn_layer5,
        caption= ,
        zlabel=2,
        fill=\BnColor,
        opacity=0.8,
        height=2,
        width=1,
        depth=8
        }
    };

\pic[shift={(1.8, 0, 0)}] at (bn_layer5-east) 
    {Box={
        name=layer6,
        caption= ,
        zlabel=,
        fill=\FcColor,
        height=2,
        width=2,
        depth=4
        }
    };

\pic[shift={(0, 0, 0)}] at (layer6-east) 
    {Box={
        name=sigmoid,
        caption= ,
        xlabel={{" ","dummy"}},
        zlabel=1,
        fill=\SigmoidColor,
        opacity=1,
        height=2,
        width=1,
        depth=4
        }
    };

\pic[shift={(2, 0, 0)}] at (sigmoid-east) 
    {Box={
        name=output,
        caption=Score,
        zlabel=1,
        fill=\FeatureColor,
        height=2,
        width=2,
        depth=4
        }
    };

        \draw [connection]  (input-east)    -- node {\midarrow} (fc_layer1-west);
        
        \draw [connection]  (bn_layer1-east)    -- node {\midarrow} (fc_layer2-west);
        
        \draw [connection]  (bn_layer2-east)    -- node {\midarrow} (fc_layer3-west);
        
        \draw [connection]  (bn_layer3-east)    -- node {\midarrow} (fc_layer4-west);
        
        \draw [connection]  (bn_layer4-east)    -- node {\midarrow} (fc_layer5-west);
        
        \draw [connection]  (bn_layer5-east)    -- node {\midarrow} (layer6-west);
        
        \draw [connection]  (sigmoid-east)    -- node {\midarrow} (output-west);
        
\end{tikzpicture}
\end{document}
